fragment ProductVariableCore on VariableProduct {
    price
    rawPrice: price(format: RAW)
    regularPrice
    salePrice
    onSale
    stockStatus
    stockQuantity
    soldIndividually

    attributes {
        nodes {
            id
            attributeId
            variation
            ... on LocalProductAttribute {
                name
                options
            }
            ... on GlobalProductAttribute {
                name
                terms(first: 100) {
                    nodes { id name slug }
                }
            }
        }
    }

    # Конкретные вариации товара
    variations(first: $variationsFirst) {
        nodes {
            id
            databaseId
            name
            sku
            price
            rawPrice: price(format: RAW)
            regularPrice
            salePrice
            onSale
            stockStatus
            stockQuantity
            image { ...ImageCore }
            attributes {
                nodes {
                    attributeId
                    name
                    label
                    value
                }
            }
        }
    }

    # Если в вашей схеме есть размеры/вес — раскомментируйте:
    # dimensions { width height length }
    # weight
}
