fragment CartCore on Cart {
  subtotal
  total
  contents {
    itemCount
    nodes {
      key
      quantity
      product {
        node {
          ...ProductCore
        }
      }
    }
  }
}

query GetCart {
  cart {
    ...CartCore
  }
}

mutation AddToCart($productId: Int!, $quantity: Int!) {
  addToCart(input: { productId: $productId, quantity: $quantity }) {
    cart {
      ...CartCore
    }
  }
}

mutation RemoveFromCart($keys: [ID!]!, $all: Boolean) {
  removeItemsFromCart(input: { keys: $keys, all: $all }) {
    cart {
      ...CartCore
    }
  }
}
